{"ast":null,"code":"var _jsxFileName = \"/home/j-dev/\\xC1rea de Trabalho/RocketSeat/NWL#1.0/web/src/pages/CreatePoint/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport { MapContainer, TileLayer, Marker } from 'react-leaflet';\nimport axios from 'axios';\nimport api from '../../services/api';\nimport './styles.css';\nimport logo from \"../../assets/logo.svg\"; //array ou objeto : precisa informar o tipó da variavel\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreatePoint = () => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [ufs, setUfs] = useState([]);\n  const [cities, setCities] = useState([]);\n  const [selectedUf, setSelectedUf] = useState('0');\n  useEffect(() => {\n    api.get('items').then(response => {\n      setItems(response.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get('https://servicodados.ibge.gov.br/api/v1/localidades/estados/').then(response => {\n      const ufInitials = response.data.map(uf => uf.sigla);\n      setUfs(ufInitials);\n    });\n  }, []);\n  useEffect(() => {\n    //carregar as cidades sempre que a uf mudar\n    if (selectedUf === '0') {\n      return;\n    }\n\n    axios.get(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${selectedUf}/municipios`).then(response => {\n      const cityNames = response.data.map(city => city.nome);\n      setCities(cityNames);\n    });\n  }, [selectedUf]);\n\n  function handleSelectUf(event) {\n    const uf = event.target.value;\n    setSelectedUf(uf);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"page-create-point\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"Ecoleta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: [/*#__PURE__*/_jsxDEV(FiArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), \"Voltar para home\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Cadastro do \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }, this), \" ponto de coleta\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Dados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Nome da entidade\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            id: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"whatsapp\",\n              children: \"Whatsapp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"whatsapp\",\n              id: \"whatsapp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Endere\\xE7o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Selecione um endere\\xE7o no mapa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n          center: [-1.4333786, -48.4632341],\n          zoom: 12.75,\n          children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n            attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n            url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            position: [-1.4333786, -48.4632341]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"uf\",\n              children: \"Estado (UF)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"uf\",\n              id: \"uf\",\n              value: selectedUf,\n              onChange: handleSelectUf,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"Selecione uma UF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 37\n              }, this), ufs.map(uf => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: uf,\n                children: uf\n              }, uf, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"city\",\n              children: \"Cidade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"city\",\n              id: \"city\",\n              children: /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"Selecione uma cidade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\xCDtens de coleta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Selecione um ou mais \\xEDtens abaixo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"items-grid\",\n          children: items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image_url,\n              alt: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 33\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 31\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Cadastrar ponto de coleta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreatePoint, \"n3H3t3gjDovGaJ+dUGutrrUKxCM=\");\n\n_c = CreatePoint;\nexport default CreatePoint;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePoint\");","map":{"version":3,"sources":["/home/j-dev/Área de Trabalho/RocketSeat/NWL#1.0/web/src/pages/CreatePoint/index.tsx"],"names":["React","useEffect","useState","Link","FiArrowLeft","MapContainer","TileLayer","Marker","axios","api","CreatePoint","items","setItems","ufs","setUfs","cities","setCities","selectedUf","setSelectedUf","get","then","response","data","ufInitials","map","uf","sigla","cityNames","city","nome","handleSelectUf","event","target","value","logo","item","image_url","title","id"],"mappings":"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","sourcesContent":["import React,{useEffect, useState , ChangeEvent, ChangeEventHandler} from 'react';\n\nimport {Link} from 'react-router-dom';\n\nimport { FiArrowLeft } from 'react-icons/fi';\n\nimport { MapContainer,TileLayer,Marker } from 'react-leaflet';\n\nimport axios from 'axios';\n\nimport api from '../../services/api';\n\nimport './styles.css';\n\nimport logo from '../../assets/logo.svg';\n\n//array ou objeto : precisa informar o tipó da variavel\n\ninterface Item {\n    id: number;\n    title: string;\n    image_url: string;\n}\n\ninterface IBGEUFResponse{\n    sigla: string;\n}\n\ninterface IBGECityResponse{\n    nome: string;\n}\n\nconst CreatePoint = () => {\n    const [items,setItems] = useState <Item[]>([]);\n    const [ufs, setUfs] = useState<string[]>([]);\n    const [cities, setCities] = useState<string[]>([]);\n\n    const [selectedUf,setSelectedUf] = useState('0');\n\n    useEffect(()=>{\n        api.get('items').then(response =>{\n            setItems(response.data);\n        });\n    },[]);\n\n    useEffect(()=>{\n        axios.get<IBGEUFResponse[]>('https://servicodados.ibge.gov.br/api/v1/localidades/estados/').then(response=>{\n            const ufInitials =response.data.map(uf =>uf.sigla)\n            setUfs(ufInitials);\n        });\n    },[]);\n\n    useEffect(()=>{\n        //carregar as cidades sempre que a uf mudar\n        if (selectedUf === '0') {\n            return;\n        }\n        axios\n        .get<IBGECityResponse[]>(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${selectedUf}/municipios`)\n        .then(response=>{\n            const cityNames =response.data.map(city =>city.nome)\n           \n            setCities(cityNames);\n        });\n\n    },[selectedUf]);\n\n    function handleSelectUf(event: ChangeEvent<HTMLSelectElement>){\n        const uf= event.target.value;\n        setSelectedUf(uf);\n    }\n\n    return (\n        <div id=\"page-create-point\">\n            <header>\n                <img src={logo} alt=\"Ecoleta\"/>\n\n                <Link to=\"/\">\n                    <FiArrowLeft/>\n                    Voltar para home\n                </Link>\n            </header>\n                <form>\n                    <h1>Cadastro do <br /> ponto de coleta</h1>\n\n                    <fieldset>\n                        <legend>\n                            <h2>Dados</h2>\n                        </legend>\n\n                        <div className=\"field\">\n                            <label htmlFor=\"name\">Nome da entidade</label>\n                            <input \n                            type=\"text\"\n                            name=\"name\"\n                            id=\"name\"    \n                            />\n                        </div>\n\n                        <div className=\"field-group\">\n                            <div className=\"field\">\n                                <label htmlFor=\"email\">Email</label>\n                                <input \n                                type=\"email\"\n                                name=\"email\"\n                                id=\"email\"    \n                                />\n                            </div>   \n                            <div className=\"field\">\n                                <label htmlFor=\"whatsapp\">Whatsapp</label>\n                                <input \n                                type=\"text\"\n                                name=\"whatsapp\"\n                                id=\"whatsapp\"    \n                                />  \n                            </div> \n                        </div>\n\n                    </fieldset>\n                    <fieldset>\n                        <legend>\n                            <h2>Endereço</h2>\n                            <span>Selecione um endereço no mapa</span>\n                        </legend>\n                        \n                        <MapContainer center={[-1.4333786,-48.4632341]} zoom={12.75}>\n                            <TileLayer\n                                 attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                                 url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                            />\n                            <Marker position={[-1.4333786,-48.4632341]}    />\n                            \n                        </MapContainer>\n\n                        <div className=\"field-group\">\n                            <div className=\"field\">\n                                <label htmlFor=\"uf\">Estado (UF)</label>\n                                <select name=\"uf\" id=\"uf\" value={selectedUf} onChange={handleSelectUf}>\n                                    <option value=\"0\">Selecione uma UF</option>\n                                    {ufs.map(uf =>(\n                                        <option key={uf} value={uf}>{uf}</option>\n                                    ))}\n                                </select>\n                            </div>\n                            <div className=\"field\">\n                                <label htmlFor=\"city\">Cidade</label>\n                                <select name=\"city\" id=\"city\">\n                                    <option value=\"0\">Selecione uma cidade</option>\n                                </select>\n                            </div>\n                        </div>\n\n                    </fieldset> \n                    <fieldset>\n                        <legend>\n                            <h2>Ítens de coleta</h2>\n                            <span>Selecione um ou mais ítens abaixo</span>\n                        </legend>\n                        <ul className=\"items-grid\">\n                            {items.map(item=>(\n                              <li key={item.id}>\n                                <img src={item.image_url} alt={item.title}/>\n                                <span>{item.title}</span>\n                            </li>  \n                            ))}\n                        </ul>\n                    </fieldset>\n                    <button type=\"submit\" >Cadastrar ponto de coleta</button>      \n\n                </form>\n\n            \n        </div>\n\n\n    );\n};\n\n\nexport default CreatePoint;\n"]},"metadata":{},"sourceType":"module"}